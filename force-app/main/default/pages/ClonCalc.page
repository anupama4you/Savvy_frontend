<apex:page docType="html-5.0" standardController="Custom_Opportunity__c" extensions="ClonCalcExtension" sidebar="false" showHeader="true" id="PepperCalcMV" title="Clone - Pepper MV">
    <apex:variable value="{!Custom_Opportunity__c}" var="o" />
    <apex:stylesheet value="{! $Resource.QuotingCalculatorCSS }"/>
    <style type="text/css">
        .titleDiv {
            width: 100%;
            height: 43px;
            font-size: 1.0rem;
        }
        .logo {
            float: right;
            width: 60%;
        }
        .calculatorInput {
            padding-bottom: 70px;
            background: #f8f8f8;
            border: 1px solid #ddd;
        }
        .divTitle {
            background-color: #ddd;
            padding-top: 2px;
            padding-bottom: 2px;
            padding-left: 20px;
            text-transform: uppercase;
            border: 1px solid #ddd;
        }
        #leftTables {
            display: inline-block;
            float: left;
            width: 28%;
            padding-left: 20px;
        }
        #rightTables {
            display: inline-block;
            width: 70%;
        }
        #vehicleTab {
            border: 1px solid #ddd;
            border-bottom: transparent;
            display: inline-block;
            background-color: #fff;
            position: relative;
            padding: 6px;
            top: 17px;
        }
        #vehicleDetails {
            width: 95%;
            background: white;
            border: 1px solid #ddd;
            margin-top: 15px;
            padding: 2px;
            padding-left: 20px;
            padding-top: 10px;
            padding-bottom: 10px;
        }
        #insuranceTab {
            border: 1px solid #ddd;
            border-bottom: transparent;
            display: inline-block;
            background-color: #fff;
            position: relative;
            padding: 6px;
            top: 17px;
        }
        #insuranceProduct {
            width: 95%;
            background: white;
            border: 1px solid #ddd;
            margin-top: 15px;
            padding: 2px;
            padding-left: 20px;
            padding-top: 0px;
            padding-bottom: 10px;
        }
        #financeTab {
            border: 1px solid #ddd;
            border-bottom: transparent;
            display: inline-block;
            background-color: #fff;
            position:relative;
            padding: 6px;
            top: 17px;
        }
        #financeDetails {
            width: 95%;
            background: white;
            border: 1px solid #ddd;
            margin-top: 15px;
            padding: 2px;
            padding-left: 20px;
            padding-top: 10px;
            padding-bottom: 10px;
        }
        
        .calculateButtons {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
            /*text-transform: uppercase !important;*/
            background: rgb(125,126,125) !important; /* Old browsers */
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important; /* FF3.6-15 */
            background: -webkit-linear-gradient(top,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important; /* Chrome10-25,Safari5.1-6 */
            background: linear-gradient(to bottom,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important; /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7d7e7d', endColorstr='#0e0e0e',GradientType=0 ) !important; /* IE6-9 */
        }
        
        
        .calculateButtons:hover {
            background: rgb(125,126,125) !important; /* Old browsers */
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 41%) !important; /* FF3.6-15 */
            background: -webkit-linear-gradient(top,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 41%) !important; /* Chrome10-25,Safari5.1-6 */
            background: linear-gradient(to bottom,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 41%) !important; /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7d7e7d', endColorstr='#0e0e0e',GradientType=0 ) !important; /* IE6-9 */
        }
        
        
        .acceptQuoteButtons {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
        
            background: rgb(125,126,125) !important; 
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important;
            
            background: -webkit-linear-gradient(top,  rgba(0,77,0,1) 0%,rgba(0,102,0,1) 100%) !important;
            
            /*original*/
            /*background: -webkit-linear-gradient(top,  rgba(51,126,88,1) 0%,rgba(44,112,66,1) 100%) !important;*/
            
            /*background: -webkit-linear-gradient(top,  rgba(62,151,106,1) 0%,rgba(51,125,88,1) 100%) !important;*/
    
            margin: 0px !important;
        }
        
        .acceptQuoteButtonsClicked {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
        
            background: rgb(125,126,125) !important; 
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important;
            
            background: -webkit-linear-gradient(top,  rgba(0,153,0,1) 0%,rgba(0,179,0,1) 100%) !important;
            
            /*background: -webkit-linear-gradient(top,  rgba(62,151,106,1) 0%,rgba(51,125,88,1) 100%) !important;*/
    
            margin: 0px !important;
        }
        
        .decQuoteButtons {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
           
            background: rgb(125,126,125) !important;
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important; 
            
            background: -webkit-linear-gradient(top,  rgba(168,0,0,1) 0%, rgba(219,0,0,1) 100%) !important; Chrome10-25,Safari5.1-6
            
            /*background: -webkit-linear-gradient(top,  rgba(235,74,93,1) 0%, rgba(203,57,74,1) 100%) !important; Chrome10-25,Safari5.1-6*/
            
            /*background: linear-gradient(to bottom,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important;  */
            /* filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7d7e7d', endColorstr='#0e0e0e',GradientType=0 ) !important;  */
            
            margin: 0px !important;
        }
        
        .decQuoteButtonsClicked {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
           
            background: rgb(125,126,125) !important;
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important; 
            
            background: -webkit-linear-gradient(top,  rgba(245,0,0,1) 0%, rgba(255,66,66,1) 100%) !important; Chrome10-25,Safari5.1-6
            
            /*background: -webkit-linear-gradient(top,  rgba(235,74,93,1) 0%, rgba(203,57,74,1) 100%) !important; Chrome10-25,Safari5.1-6*/
            
            /*background: linear-gradient(to bottom,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important;  */
            /* filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7d7e7d', endColorstr='#0e0e0e',GradientType=0 ) !important;  */
            
            margin: 0px !important;
        }
        
        .buyPolicyButtons {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 14px !important;
            outline: none !important;
           
            background: rgb(125,126,125) !important;
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important; 
            
            background: -webkit-linear-gradient(top,  rgba(0,0,0,1) 0%, rgba(191,191,191,1) 100%) !important; Chrome10-25,Safari5.1-6

            
            /*color test 2 okay*/
            /*background: -webkit-linear-gradient(top,  rgba(66,161,255,1) 0%, rgba(117,186,255,1) 100%) !important; Chrome10-25,Safari5.1-6*/
            
            /*original*/
            /*background: -webkit-linear-gradient(top,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important;*/
            background: linear-gradient(to bottom,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important; 
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7d7e7d', endColorstr='#0e0e0e',GradientType=0 ) !important; 
            
            float: right;
            margin-top: 10px !important;
            margin-right: 48px !important;
            height:45px;
            width: 150px;
       
        }
        
            .acceptBtnCol {
            position: relative;
            left: -10px;
           
        }
        
            .cancelBtnCol {
            position: relative;
            left: -10px;
           
        }
      
        #repaymentPanel {
            background: #f8f8f8;
            border: 1px solid #ddd;
        }
        #repaymentTab {
            border: 1px solid #ddd;
            border-bottom: transparent;
            display: inline-block;
            background-color: #fff;
            position: relative;
            padding: 6px;
            top: 17px;
            margin-left: 20px;
        }
        #repayment {
            width: 96%;
            background: white;
            border: 1px solid #ddd;
            margin-top: 15px;
            padding: 2px;
            padding-left: 20px;
            padding-top: 20px;
            padding-bottom: 20px;
            margin-left: 20px;
            margin-bottom: 20px;
        }
        .inTableTitle {
            font-weight: bold;
            padding-top: 10px;
            padding-bottom: 10px;
        }
        .calcInput {
            border: 1px solid #e0e0e0;
            padding: 0.15em;
            min-width: 173px;
        }
        .selectList {
            border: 1px solid #e0e0e0;
            padding: 0.15em;
            width:182px;
        }
        .defaultInsurance {
            text-align: center;
            width: 25%;
        }
        .vehicleColumn {
            width: 25%;
        }
        .insuranceColumn {
            width: 25%;
        }
        .financeColumn {
            width: 50%;
        }
        .commissionLabel {
            width: 8%;
            font-weight: bold;
        }
        .commissionCotent {
            width: 17%;
            font-weight: bold;
        }
        .repayColumn {
            width: 12.5%;
            font-weight: bold;
        }
        .calcLabel {
            font-weight: 500;
        }
        .baseRateColumn {
            padding: 0.3rem;
        }
        .monthlyFeeLabel {
            width: 5%;
            font-weight: bold;
        }
        .monthlyFeeContent {
            width: 20%;
            font-weight: bold;
        }
        .referenceTable {
            
        }
        .referenceTitle {
            padding: 10px;
        }
        .tableDetails {
            width: 95%;
            background: white;
            border: 1px solid #ddd;
            margin-top: 15px;
            padding: 2px;
            padding-left: 20px;
            padding-top: 10px;
            padding-bottom: 10px;
        }
        .titleTableTab {
            border: 1px solid #ddd;
            border-bottom: transparent;
            display: inline-block;
            background-color: #fff;
            position: relative;
            padding: 6px;
            top: 17px;
        }
        .resultValue {
            font-weight: bold;
        }
        .buttonPanel {
            float: right;
            text-align: right;
        }
        /*Tier tables*/
        #tierATable {
            width: 100%;
        }
        #tierBTable {
            width: 100%;
            position: relative;
            top: -5px;
        }
        #tierCTable {
            width: 100%;
            position: relative;
            top: -10px;
        }
        .ratesHeading {
            display: inline-block;
            border-collapse: collapse;
            border: 1px solid #ddd;
            border-right-width: 0px;
        }
        .ratesTitle {
            background: #f2f3f3;
            border-width: 0 0 1px 1px;
            border-color: #e0e3e5;
            color: #000;
            font-size: .9em;
            font-weight: bold;
            padding: 5px 2px 4px 5px;
            width: 54.12%;
        }
        .headingColumn {
            border-width: 0 0 1px 0;
            vertical-align: middle;
            border: 1px solid #ededed;
            color: #000;
            padding: 4px 2px 4px 5px;
            font-family: Arial, Helvetica, sans-serif;
            margin: 0;
            display: table-cell;
        }
        .ratesDetails {
            display: inline-block;
            border-collapse: collapse;
            border: 1px solid #ddd;
            border-left-width: 0px;
            position: relative;
            left: -3px;
        }
        .ratesColumn {
            border-width: 0 0 1px 0;
            vertical-align: middle;
            border: 1px solid #ededed;
            color: #000;
            padding: 4px 2px 4px 5px;
            font-family: Arial, Helvetica, sans-serif;
            margin: 0;
            display: table-cell;
            width: 5.41%;
        }
        #Pepper { 
            margin-left:auto;
            width:86%;
        }
        
        
        /*Created By: Phil Fang | Date: March 6, 2017 | Description: Styling for ERIC API integration*/
        .acceptQuoteButtons {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
        
            background: rgb(125,126,125) !important; 
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important;
            
            background: -webkit-linear-gradient(top,  rgba(0,77,0,1) 0%,rgba(0,102,0,1) 100%) !important;
            
            /*original*/
            /*background: -webkit-linear-gradient(top,  rgba(51,126,88,1) 0%,rgba(44,112,66,1) 100%) !important;*/
            
            /*background: -webkit-linear-gradient(top,  rgba(62,151,106,1) 0%,rgba(51,125,88,1) 100%) !important;*/
    
            margin: 0px !important;
        }
        
        .acceptQuoteButtonsClicked {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
        
            background: rgb(125,126,125) !important; 
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important;
            
            background: -webkit-linear-gradient(top,  rgba(0,153,0,1) 0%,rgba(0,179,0,1) 100%) !important;
            
            /*background: -webkit-linear-gradient(top,  rgba(62,151,106,1) 0%,rgba(51,125,88,1) 100%) !important;*/
    
            margin: 0px !important;
        }
        
        .decQuoteButtons {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
           
            background: rgb(125,126,125) !important;
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important; 
            
            background: -webkit-linear-gradient(top,  rgba(168,0,0,1) 0%, rgba(219,0,0,1) 100%) !important; Chrome10-25,Safari5.1-6
            
            /*background: -webkit-linear-gradient(top,  rgba(235,74,93,1) 0%, rgba(203,57,74,1) 100%) !important; Chrome10-25,Safari5.1-6*/
            
            /*background: linear-gradient(to bottom,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important;  */
            /* filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7d7e7d', endColorstr='#0e0e0e',GradientType=0 ) !important;  */
            
            margin: 0px !important;
        }
        
        .decQuoteButtonsClicked {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 11px !important;
            outline: none !important;
           
            background: rgb(125,126,125) !important;
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important; 
            
            background: -webkit-linear-gradient(top,  rgba(245,0,0,1) 0%, rgba(255,66,66,1) 100%) !important; Chrome10-25,Safari5.1-6
            
            /*background: -webkit-linear-gradient(top,  rgba(235,74,93,1) 0%, rgba(203,57,74,1) 100%) !important; Chrome10-25,Safari5.1-6*/
            
            /*background: linear-gradient(to bottom,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important;  */
            /* filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7d7e7d', endColorstr='#0e0e0e',GradientType=0 ) !important;  */
            
            margin: 0px !important;
        }
        
        .buyPolicyButtons {
            padding: 6px 7px !important;
            color: #fff !important;
            font-size: 14px !important;
            outline: none !important;
           
            background: rgb(125,126,125) !important;
            background: -moz-linear-gradient(top,  rgba(125,126,125,1) 0%, rgba(14,14,14,1) 100%) !important; 
            
            background: -webkit-linear-gradient(top,  rgba(0,0,0,1) 0%, rgba(191,191,191,1) 100%) !important; Chrome10-25,Safari5.1-6

            
            /*color test 2 okay*/
            /*background: -webkit-linear-gradient(top,  rgba(66,161,255,1) 0%, rgba(117,186,255,1) 100%) !important; Chrome10-25,Safari5.1-6*/
            
            /*original*/
            /*background: -webkit-linear-gradient(top,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important;*/
            background: linear-gradient(to bottom,  rgba(125,126,125,1) 0%,rgba(14,14,14,1) 100%) !important; 
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7d7e7d', endColorstr='#0e0e0e',GradientType=0 ) !important; 
            
            float: right;
            margin-top: 10px !important;
            margin-right: 48px !important;
            height:45px;
            width: 150px;
       
        }
    </style>
    <apex:includeScript value="{! $Resource.jQuery }"/>
    <script type="text/javascript">
        jQuery.noConflict();
        jQuery(document).ready(function() {});
    </script>
    <script>
        /*
        {!Custom_Opportunity__c.Loan_Product__c}
        {!Custom_Opportunity__c.Loan_Product__r.Loan_Purpose__c}
        */
    </script>
    
     <!--Created by Phil Fang | Date: February 21, 2017 | Description: Jquery for dynamic styling of Accept and Decline buttons-->
    <script type="text/javascript">
        
         /*var j$ = jQuery.noConflict();
    
        j$(document).ready(function() {
        
            j$('[id$=gapAcceptQuoteBtnId]').click(function(){
                
                j$('[id$=gapAcceptQuoteBtnId].acceptQuoteButtons').removeClass('acceptQuoteButtons')
                j$(this).addClass('acceptQuoteButtonsClicked');
        
                localStorage.setItem('gapAcceptStorage', 'true'); 
                
            });
        
            j$('[id$=gapCancelQuoteBtnId').click(function(){
                
                j$('[id$=gapAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
                j$(this).addClass('acceptQuoteButtons');
        
                j$('[id$=gapCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
                j$(this).addClass('decQuoteButtonsClicked');
        
                localStorage.setItem('gapAcceptStorage', 'false'); 
                
            });
            
            j$('[id$=warAcceptQuoteBtnId]').click(function(){
                
                j$('[id$=warAcceptQuoteBtnId].acceptQuoteButtons').removeClass('acceptQuoteButtons')
                j$(this).addClass('acceptQuoteButtonsClicked');
        
                localStorage.setItem('warAcceptStorage', 'true'); 
                
            });
            
            j$('[id$=warCancelQuoteBtnId').click(function(){
                
                j$('[id$=warAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
                j$(this).addClass('acceptQuoteButtons');
        
                j$('[id$=warCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
                j$(this).addClass('decQuoteButtonsClicked');
        
                localStorage.setItem('warAcceptStorage', 'false'); 
                
            });
            
            j$('[id$=ltiAcceptQuoteBtnId]').click(function(){
                
                j$('[id$=ltiAcceptQuoteBtnId].acceptQuoteButtons').removeClass('acceptQuoteButtons')
                j$(this).addClass('acceptQuoteButtonsClicked');
        
                localStorage.setItem('ltiAcceptStorage', 'true'); 
                
            });
            
            j$('[id$=ltiCancelQuoteBtnId').click(function(){
                
                j$('[id$=ltiAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
                j$(this).addClass('acceptQuoteButtons');
                
                j$('[id$=ltiCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
                j$(this).addClass('decQuoteButtonsClicked');
        
                localStorage.setItem('ltiAcceptStorage', 'false'); 
                
            });
            
            j$('[id$=truckGapAcceptQuoteBtnId]').click(function(){
                
                j$('[id$=truckGapAcceptQuoteBtnId].acceptQuoteButtons').removeClass('acceptQuoteButtons')
                j$(this).addClass('acceptQuoteButtonsClicked');
        
                localStorage.setItem('truckGapAcceptStorage', 'true'); 
                
            });
            
            j$('[id$=truckGapCancelQuoteBtnId').click(function(){
                
                j$('[id$=truckGapAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
                j$(this).addClass('acceptQuoteButtons');
        
                j$('[id$=truckGapCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
                j$(this).addClass('decQuoteButtonsClicked');
        
                localStorage.setItem('truckGapAcceptStorage', 'false'); 
                
            });
            
            j$('[id$=taiAcceptQuoteBtnId]').click(function(){
                
                j$('[id$=taiAcceptQuoteBtnId].acceptQuoteButtons').removeClass('acceptQuoteButtons')
                j$(this).addClass('acceptQuoteButtonsClicked');
        
                localStorage.setItem('taiAcceptStorage', 'true'); 
                
            });
            
            j$('[id$=taiCancelQuoteBtnId').click(function(){
                
                j$('[id$=taiAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
                j$(this).addClass('acceptQuoteButtons');
        
                j$('[id$=taiCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
                j$(this).addClass('decQuoteButtonsClicked');
        
                localStorage.setItem('taiAcceptStorage', 'false'); 
                
            });
            
            j$('[id$=mvAcceptQuoteBtnId]').click(function(){
                
                j$('[id$=mvAcceptQuoteBtnId].acceptQuoteButtons').removeClass('acceptQuoteButtons')
                j$(this).addClass('acceptQuoteButtonsClicked');
        
                localStorage.setItem('mvAcceptStorage', 'true'); 
                
            });
            
            j$('[id$=mvCancelQuoteBtnId').click(function(){
                
                j$('[id$=mvAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
                j$(this).addClass('acceptQuoteButtons');
                
                j$('[id$=mvCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
                j$(this).addClass('decQuoteButtonsClicked');
        
                localStorage.setItem('mvAcceptStorage', 'false'); 
                
            });
            
            j$('[id$=cciAcceptQuoteBtnId]').click(function(){
                
                j$('[id$=cciAcceptQuoteBtnId].acceptQuoteButtons').removeClass('acceptQuoteButtons')
                j$(this).addClass('acceptQuoteButtonsClicked');
        
                localStorage.setItem('cciAcceptStorage', 'true'); 
                
            });
            
            j$('[id$=cciCancelQuoteBtnId').click(function(){
                
                j$('[id$=cciAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
                j$(this).addClass('acceptQuoteButtons');
                
                j$('[id$=cciCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
                j$(this).addClass('decQuoteButtonsClicked');
        
                localStorage.setItem('cciAcceptStorage', 'false'); 
                
            });
            
            j$('[id$=nwcAcceptQuoteBtnId]').click(function(){
                
                j$('[id$=nwcAcceptQuoteBtnId].acceptQuoteButtons').removeClass('acceptQuoteButtons')
                j$(this).addClass('acceptQuoteButtonsClicked');
        
                localStorage.setItem('nwcAcceptStorage', 'true'); 
                
            });
            
            j$('[id$=nwcCancelQuoteBtnId').click(function(){
                
                j$('[id$=nwcAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
                j$(this).addClass('acceptQuoteButtons');
        
                j$('[id$=nwcCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
                j$(this).addClass('decQuoteButtonsClicked');
        
                localStorage.setItem('nwcAcceptStorage', 'false'); 
                
            });
        
            var gapAcceptStorageVar = localStorage.getItem('gapAcceptStorage');
            var warAcceptStorageVar = localStorage.getItem('warAcceptStorage');
            var ltiAcceptStorageVar = localStorage.getItem('ltiAcceptStorage');
            var truckGapAcceptStorageVar = localStorage.getItem('truckGapAcceptStorage');
            var taiAcceptStorageVar = localStorage.getItem('taiAcceptStorage');
            var mvAcceptStorageVar = localStorage.getItem('mvAcceptStorage');
            var cciAcceptStorageVar = localStorage.getItem('cciAcceptStorage');
            var nwcAcceptStorageVar = localStorage.getItem('nwcAcceptStorage');
        
           
            if (gapAcceptStorageVar == 'true') {
    
            j$('[id$=gapAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtons')
            j$('[id$=gapAcceptQuoteBtnId]').addClass('acceptQuoteButtonsClicked');
      
            } 
            
            if (gapAcceptStorageVar == 'false') {
                
            j$('[id$=gapAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
            j$('[id$=gapAcceptQuoteBtnId]').addClass('acceptQuoteButtons');
            
            j$('[id$=gapCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
            j$('[id$=gapCancelQuoteBtnId]').addClass('decQuoteButtonsClicked');
            
            }
        
            if (warAcceptStorageVar == 'true') {
            
            j$('[id$=warAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtons')
            j$('[id$=warAcceptQuoteBtnId]').addClass('acceptQuoteButtonsClicked');
      
            } 
            
            if (warAcceptStorageVar == 'false') {
                
            j$('[id$=warAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
            j$('[id$=warAcceptQuoteBtnId]').addClass('acceptQuoteButtons');
            
            j$('[id$=warCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
            j$('[id$=warCancelQuoteBtnId]').addClass('decQuoteButtonsClicked');
            
            } 
        
            if (ltiAcceptStorageVar == 'true') {
            
            j$('[id$=ltiAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtons')
            j$('[id$=ltiAcceptQuoteBtnId]').addClass('acceptQuoteButtonsClicked');
      
            } 
            
            if (ltiAcceptStorageVar == 'false') {
                
            j$('[id$=ltiAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
            j$('[id$=ltiAcceptQuoteBtnId]').addClass('acceptQuoteButtons');
            
            j$('[id$=ltiCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
            j$('[id$=ltiCancelQuoteBtnId]').addClass('decQuoteButtonsClicked');
            
            }
            
            if (truckGapAcceptStorageVar == 'true') {
            
            j$('[id$=truckGapAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtons')
            j$('[id$=truckGapAcceptQuoteBtnId]').addClass('acceptQuoteButtonsClicked');
      
            } 
            
            if (truckGapAcceptStorageVar == 'false') {
                
            j$('[id$=truckGapAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
            j$('[id$=truckGapAcceptQuoteBtnId]').addClass('acceptQuoteButtons');
            
            j$('[id$=truckGapCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
            j$('[id$=truckGapCancelQuoteBtnId]').addClass('decQuoteButtonsClicked');
            
            }
        
            if (taiAcceptStorageVar == 'true') {
            
            j$('[id$=taiAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtons')
            j$('[id$=taiAcceptQuoteBtnId]').addClass('acceptQuoteButtonsClicked');
      
            } 
            
            if (taiAcceptStorageVar == 'false') {
                
            j$('[id$=taiAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
            j$('[id$=taiAcceptQuoteBtnId]').addClass('acceptQuoteButtons');
            
            j$('[id$=taiCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
            j$('[id$=taiCancelQuoteBtnId]').addClass('decQuoteButtonsClicked');
            
            }
            
            if (mvAcceptStorageVar == 'true') {
            
            j$('[id$=mvAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtons')
            j$('[id$=mvAcceptQuoteBtnId]').addClass('acceptQuoteButtonsClicked');
      
            } 
            
            if (mvAcceptStorageVar == 'false') {
                
            j$('[id$=mvAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
            j$('[id$=mvAcceptQuoteBtnId]').addClass('acceptQuoteButtons');
            
            j$('[id$=mvCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
            j$('[id$=mvCancelQuoteBtnId]').addClass('decQuoteButtonsClicked');
            
            }
            
            if (cciAcceptStorageVar == 'true') {
            
            j$('[id$=cciAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtons')
            j$('[id$=cciAcceptQuoteBtnId]').addClass('acceptQuoteButtonsClicked');
      
            } 
            
            if (cciAcceptStorageVar == 'false') {
                
            j$('[id$=cciAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
            j$('[id$=cciAcceptQuoteBtnId]').addClass('acceptQuoteButtons');
            
            j$('[id$=cciCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
            j$('[id$=cciCancelQuoteBtnId]').addClass('decQuoteButtonsClicked');
            
            }
            
            if (nwcAcceptStorageVar == 'true') {
            
            j$('[id$=nwcAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtons')
            j$('[id$=nwcAcceptQuoteBtnId]').addClass('acceptQuoteButtonsClicked');
      
            } 
            
            if (nwcAcceptStorageVar == 'false') {
                
            j$('[id$=nwcAcceptQuoteBtnId].acceptQuoteButtonsClicked').removeClass('acceptQuoteButtonsClicked')
            j$('[id$=nwcAcceptQuoteBtnId]').addClass('acceptQuoteButtons');
            
            j$('[id$=nwcCancelQuoteBtnId].decQuoteButtons').removeClass('decQuoteButtons')
            j$('[id$=nwcCancelQuoteBtnId]').addClass('decQuoteButtonsClicked');
            
            }
        
        
            j$( window ).unload(function() {
            return "Bye now!";
            });
        
        
        
        
        });
        */
    </script>
    
    <script>
        
        /*Created By: Phil Fang | Date: March 7, 2017 | Description: Javascript for Create Quote and Buy Policy visualforce page pop up*/
        
        /*function popupwindow(){    
            //Original working - var newwindow = window.open('/apex/CreateQuote2Draft2',"Create Quote","scrollbars=1,resizable=1,Width=1420px,Height=400px,Top=180,Left=80");
            var newwindow = window.open('/apex/CreateQuote',"Create Quote","scrollbars=1,resizable=1,Width=1420px,Height=650px,Top=180,Left=250");
            newwindow.focus();
        }
        
        function buyPolicyPopUp(){
            var buyPolicyWindow = window.open('/apex/BuyPolicy ',"Buy Policy","scrollbars=1,resizable=1,Width=1420px,Height=650px,Top=180,Left=250");
            buyPolicyWindow.focus();
        }*/
        
    </script>
    
    <c:sidebarV2 oppId="{!o.Id}" appId="{!o.Application__c}" showLenders="true"/>
    <div id="Pepper">
    <!-- <apex:sectionHeader /> -->
    <!-- <apex:variable value="{!Custom_Opportunity__c}" var="o" /> -->
        <apex:form id="EsandaConsumerForm" styleClass="calculatorForm">
            <apex:pageMessages id="pageMessage"/>
            <!-- Send presentation -->
            <apex:actionFunction action="{!sendPresentationStep1}" name="sendPresentationStep1" reRender="pageMessage" status="stsProd" oncomplete="sendPresentationStep2();"/>
            <apex:actionFunction action="{!sendPresentationStep2}" name="sendPresentationStep2" status="stsProd2" reRender="pageMessage" oncomplete="sendPresentationStep3();"/>
            <apex:actionFunction action="{!sendPresentationStep3}" name="sendPresentationStep3" status="stsProd2" reRender="pageMessage"/>
            <!-- Send Quote -->
            <apex:actionFunction action="{!sendCustomerEmail1}" name="sendCustomerEmail1" reRender="pageMessage" status="stsSend1" oncomplete="sendCustomerEmail2();"/>
            <apex:actionFunction action="{!sendCustomerEmail2}" name="sendCustomerEmail2" status="stsSend2" reRender="pageMessage"/>
            <!-- End -->
            <apex:actionFunction action="{!nationalWarrantyCalc}" name="nationalWarrantyCalc" reRender="realtimeNaf, netDeposit, pnlInsProd, pageMessage" oncomplete="nafRefresh()" />

            <apex:actionFunction action="{!realtimeNafCalc}" name="nafRefresh" reRender="realtimeNaf, netDeposit" />
            <apex:actionFunction action="{!applicationFeefCalc}" name="applicationFeefCalc" reRender="applicationFee, realtimeNaf, netDeposit" />
            <apex:actionFunction action="{!commsCalc}" name="commRefresh" reRender="showComms" />
            <apex:actionFunction action="{!warrantyPriceCalc}" name="warrantyRefresh" reRender="warranty,pageMessage" oncomplete="nafRefresh()" />
            <apex:actionFunction action="{!warrantyIncomeCalc}" name="warrantyIncRefresh" reRender="warrantyIncome,pageMessage" />
            <div class="titleDiv">
                <h1>Pepper MV for {!Custom_Opportunity__c.Name}</h1>
                <div class="buttonPanel">
                    <table>
                        <tr>
                            <td>
                                <apex:actionStatus startText="(Saving...)" id="stsSend1" />
                                <apex:actionStatus startText="(Sending...)" id="stsSend2" />&nbsp;&nbsp;&nbsp;

                                <!--Created By: Phil Fang | Date: March 6, 2017 | Description: Import Quote button-->
                                <!-- <apex:commandButton styleClass="calculateButtons" value="Import Quote" action="{!importQuote}"/> -->
                                
                                <apex:commandButton styleClass="calculateButtons" value="Calculate" action="{!calculate}"/>
                                <apex:commandButton styleClass="calculateButtons" value="Reset" action="{!reset}"/>
                                <apex:commandButton styleClass="calculateButtons" value="Save Quoting" action="{!saveQuoting}"/>
                                <apex:commandButton styleClass="calculateButtons" value="Save Pre-approval" action="{!savePreApproval}"/>
                                <apex:commandButton styleClass="calculateButtons" value="Save Amendment" action="{!saveAmendment}"/>
                                <apex:commandButton styleClass="calculateButtons" value="Save Formal Approval" action="{!saveFormalApproval}"/>
                                
                                <input name="DoAction" type="button" value="Send Quote" class="calculateButtons"
                                       onclick="sendCustomerEmail1();return false;"/>   

                                 <!--Created By: Phil Fang | Date: March 6, 2017 | Description: Create Quote button-->
                                <!-- <apex:commandButton styleClass="calculateButtons" value="Create Quote" onclick="popupwindow();"/> -->
                                
                            </td>
                            <td>
                                <apex:image url="{!$Resource.PepperLogo}" height="40" />
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <apex:outputText label="Comms" value="{!comm}" id="showComms" rendered="false" />
            <div class="calculatorInput"  >
                <div class="divTitle">
                    <h3>Input</h3>
                </div>
                <div id="leftTables">
                    <div id="financeTab"><h3>Finance Details</h3></div>
                    <table id="financeDetails">
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Loan Type" for="LoanType" />
                            </td>
                            <td class="financeColumn">
                            <apex:selectList label="Loan Type" value="{!loanType}" multiselect="false" size="1" styleClass="selectList" id="LoanType">
                                <apex:selectOptions value="{!loanTypeOptions}" />
                            </apex:selectList>
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Loan Product" for="productLoanType" />
                            </td>
                            <td class="financeColumn">
                            <apex:selectList label="Loan Type" value="{!productLoanType}" multiselect="false" size="1" styleClass="selectList" id="productLoanType">
                                <apex:selectOptions value="{!productLoanTypes}" />
                            </apex:selectList>
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Goods Type" for="productGoodsType" />
                            </td>
                            <td class="financeColumn">
                            <apex:selectList label="Goods Type" value="{!productGoodsType}" multiselect="false" size="1" styleClass="selectList" id="productGoodsType">
                                <apex:selectOptions value="{!productGoodsTypes}" />
                            </apex:selectList>
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Car Price" for="carPrice" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="Car Price" value="{!carPrice}" html-placeholder="$" id="carPrice" styleClass="calcInput" onchange="nafRefresh()" />
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Deposit" for="deposit" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="Deposit" value="{!deposit}" html-placeholder="$" id="deposit" styleClass="calcInput" onchange="nafRefresh()" />
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Trade In" for="tradeIn" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="Trade In" value="{!tradeIn}" html-placeholder="$" id="tradeIn" styleClass="calcInput" onchange="nafRefresh()" />
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Payout On Trade In" for="payoutOn" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="Payout On" value="{!payoutOn}" html-placeholder="$" id="payoutOn" styleClass="calcInput" onchange="nafRefresh()" />
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Net Deposit" for="netDeposit" />
                            </td>
                            <td class="financeColumn">
                            <apex:outputText label="NAF" value="{0, number, $##,###,##0.00}" id="netDeposit" >
                                <apex:param value="{!netDeposit}" />
                            </apex:outputText>
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Application Fee" for="applicationFee" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="Application Fee" value="{!applicationFee}" html-placeholder="$" id="applicationFee" styleClass="calcInput" onchange="nafRefresh()" />
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="DOF" for="dof" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="DOF" value="{!dof}" html-placeholder="$" id="dof" styleClass="calcInput" onchange="nafRefresh()" />
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="PPSR" for="ppsr" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="PPSR" value="{!ppsr}" html-placeholder="$" id="ppsr" styleClass="calcInput" onchange="nafRefresh()" />
                            </td>
                        </tr>
                        <!-- <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Registration/Research fee" for="registrationFee" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="Registration/Research fee" value="{!registrationFee}" html-placeholder="$" id="registrationFee" styleClass="calcInput" onchange="nafRefresh()" />
                            </td>
                        </tr> -->
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Residual Value" for="residualValue" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="Residual Value" value="{!residualValue}" html-placeholder="$" id="residualValue" styleClass="calcInput" />
                            </td>
                        </tr>
                        <!--<tr>
                            <td colspan="2">
                                <apex:commandLink id="ratesInfo" onclick="window.open('/apex/PepperMVRates?id={!Custom_Opportunity__c.Id}','Pepper MV Rates','height=500,width=800'); return false;" value="Click here to see Pepper MV Rates."/>
                            </td>
                        </tr>-->
                        <tr>
                            <td class="inTableTitle">Loan Details</td>
                            <td class="financeColumn"></td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Term (months)" for="term" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" label="Term" value="{!term}" id="term" onchange="baseRateRefresh()" styleClass="calcInput"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Client Tier" for="clientTier" />
                            </td>
                            <td class="financeColumn">
                            <apex:selectList label="Client Tier" value="{!clientTier}" multiselect="false" size="1" styleClass="selectList" id="clientTier" onchange="commRefresh()" >
                                <apex:selectOptions value="{!tierTypes}" />
                            </apex:selectList>
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Private Sales" for="privateSales" />
                            </td>
                            <td class="financeColumn">
                            <apex:selectList label="Private Sales" value="{!privateSales}" multiselect="false" size="1" styleClass="selectList" id="privateSales" onchange="applicationFeefCalc()" >
                                <apex:selectOptions value="{!yesNoOptions}" />
                            </apex:selectList>
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Payment" for="paymentType" />
                            </td>
                            <td class="financeColumn">
                            <apex:selectList label="Payment" value="{!paymentType}" multiselect="false" size="1" styleClass="selectList" id="paymentType">
                                <apex:selectOptions value="{!paymentTypes}" />
                            </apex:selectList>
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                                <apex:outputLabel value="Monthly Fee" for="monthlyFee" />
                            </td>
                            <td class="financeColumn">
                                <apex:input type="number" html-step="0.01" label="Monthly Fee" value="{!monthlyFee}" html-placeholder="$" id="monthlyFee" styleClass="calcInput" />
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Client Rate" for="clientRate" />
                            </td>
                            <td class="financeColumn">
                            <apex:input type="number" html-step="0.01" label="Client Rate" value="{!clientRate}" html-placeholder="%" id="clientRate" styleClass="calcInput" onchange="commRefresh()" />
                            </td>
                        </tr>
                        <tr>
                            <td class="financeColumn">
                            <apex:outputLabel styleClass="calcLabel" value="NAF" for="realtimeNaf" />
                            </td>
                            <td class="baseRateColumn">
                            <apex:outputText label="NAF" value="{0, number, $##,###,##0.00}" id="realtimeNaf" >
                                <apex:param value="{!realtimeNaf}" />
                            </apex:outputText>
                            </td>
                        </tr>
                    </table>
                </div>
                <div id="rightTables">
                    <div class="titleTableTab"><h3>Commission and Repayment</h3></div>
                    <table class="tableDetails">
                        <tr>
                            <td width="18%">&nbsp;</td>
                            <td width="7%" class="resultHeading">Quoting</td>
                            <td width="7%" class="resultHeading">Simple</td>
                            <td width="7%" class="resultHeading">Fully</td>
                            <td width="7%" class="resultHeading">Standard</td>
                            <td width="6%" class="resultHeading">Basic</td>
                            <td width="12%">&nbsp;</td>
                            <td width="6%" class="resultHeading">Quoting</td>
                            <td width="6%" class="resultHeading"><i>Protected Payments</i></td>
                            <td width="6%" class="resultHeading">Simple</td>
                            <td width="6%" class="resultHeading">Fully</td>
                            <td width="6%" class="resultHeading">Standard</td>
                            <td width="6%" class="resultHeading">Basic</td>
                        </tr>
                        <tr>
                            <td class="labelHeading">
                                <apex:outputLabel value="Estimated Commission" for="estimatedCommission" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="Estimated Commission" value="{0, number, $##,###,##0.00}" id="estimatedCommission" >
                                    <apex:param value="{!estimatedCommission}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!simpleResult.Estimated_Commission__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proFullyResult.Estimated_Commission__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proStandardResult.Estimated_Commission__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proBasicResult.Estimated_Commission__c}" />
                                </apex:outputText>
                            </td>
                            <td class="labelHeading">
                                <apex:outputLabel value="NAF" for="naf" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText value="{0, number, $##,###,##0.00}" id="naf" >
                                    <apex:param value="{!naf}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText label="NAF" value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!protectecResult.NAF__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!simpleResult.NAF__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proFullyResult.NAF__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proStandardResult.NAF__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proBasicResult.NAF__c}" />
                                </apex:outputText>
                            </td>
                        </tr>
                        <tr>
                            <td class="labelHeading">
                                <apex:outputLabel value="DOF" for="dofResult" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="DOF" value="{0, number, $##,###,##0.00}" id="dofResult" >
                                    <apex:param value="{!dofResult}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!simpleResult.DOF__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proFullyResult.DOF__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proStandardResult.DOF__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proBasicResult.DOF__c}" />
                                </apex:outputText>
                            </td>
                            <td class="labelHeading">
                                <apex:outputLabel value="Rental" for="rental" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="Rental" value="{0, number, $##,###,##0.00}" id="rental" >
                                    <apex:param value="{!rental}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText label="NAF" value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!protectecResult.Rental__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!simpleResult.Rental__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proFullyResult.Rental__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proStandardResult.Rental__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proBasicResult.Rental__c}" />
                                </apex:outputText>
                            </td>
                        </tr>
                        <tr>
                            <td class="labelHeading">
                                <apex:outputLabel style="display:inline-block;" value="Insurance Income" for="insuranceIncome" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="Insurance Income" value="{0, number, $##,###,##0.00}" id="insuranceIncome" >
                                    <apex:param value="{!insuranceIncome}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!simpleResult.Insurance_Income__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proFullyResult.Insurance_Income__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proStandardResult.Insurance_Income__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proBasicResult.Insurance_Income__c}" />
                                </apex:outputText>
                            </td>
                            <td class="labelHeading">
                                <apex:outputLabel style="display:inline-block;" value="Monthly Payment" for="monthlyPayment" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="Monthly Payment" value="{0, number, $##,###,##0.00}" id="monthlyPayment" >
                                    <apex:param value="{!monthlyPayment}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText label="NAF" value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!protectecResult.Monthly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!simpleResult.Monthly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proFullyResult.Monthly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proStandardResult.Monthly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proBasicResult.Monthly_Payment__c}" />
                                </apex:outputText>
                            </td>
                        </tr>
                        <tr>
                            <td class="labelHeading">
                                <apex:outputLabel style="display:inline-block;" value="TOTAL Commission (GST Exc)" for="totalCommission" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="TOTAL Commission (GST Exc)" value="{0, number, $##,###,##0.00}" id="totalCommission" >
                                    <apex:param value="{!totalCommission}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!simpleResult.Total_Commission__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proFullyResult.Total_Commission__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proStandardResult.Total_Commission__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proBasicResult.Total_Commission__c}" />
                                </apex:outputText>
                            </td>
                            <td class="labelHeading">
                                <apex:outputLabel style="display:inline-block;" value="Fortnightly Payment" for="fortnightlyPayment" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="Fortnightly Payment" value="{0, number, $##,###,##0.00}" id="fortnightlyPayment" >
                                    <apex:param value="{!fortnightlyPayment}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!protectecResult.Fortnightly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!simpleResult.Fortnightly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proFullyResult.Fortnightly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proStandardResult.Fortnightly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proBasicResult.Fortnightly_Payment__c}" />
                                </apex:outputText>
                            </td>
                        </tr>
                        <tr>
                            <td class="labelHeading">
                                <apex:outputLabel style="display:inline-block;" value="TOTAL Commission (GST Inc)" for="totalCommissionGst" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="TOTAL Commission (GST Inc)" value="{0, number, $##,###,##0.00}" id="totalCommissionGst" >
                                    <apex:param value="{!totalCommissionGst}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!simpleResult.Total_Commission_Gst__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proFullyResult.Total_Commission_Gst__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proStandardResult.Total_Commission_Gst__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}" >
                                    <apex:param value="{!proBasicResult.Total_Commission_Gst__c}" />
                                </apex:outputText>
                            </td>
                            <td class="labelHeading">
                                <apex:outputLabel style="display:inline-block;" value="Weekly Payment" for="weeklyPayment" />
                            </td>
                            <td class="resultValue">
                                <apex:outputText label="Weekly Payment" value="{0, number, $##,###,##0.00}" id="weeklyPayment" >
                                    <apex:param value="{!weeklyPayment}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult">
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!protectecResult.Weekly_Payment__c}" />
                                </apex:outputText>
                            </td>
                            <td class="otherResult"><strong>
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!simpleResult.Weekly_Payment__c}" />
                                </apex:outputText></strong>
                            </td>
                            <td class="otherResult"><strong>
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proFullyResult.Weekly_Payment__c}" />
                                </apex:outputText></strong>
                            </td>
                            <td class="otherResult"><strong>
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proStandardResult.Weekly_Payment__c}" />
                                </apex:outputText></strong>
                            </td>
                            <td class="otherResult"><strong>
                                <apex:outputText value="{0, number, $##,###,##0.00}">
                                    <apex:param value="{!proBasicResult.Weekly_Payment__c}" />
                                </apex:outputText></strong>
                            </td>
                        </tr>
                    </table>

                    <!-- Insurance Implementation -->
                    <apex:outputPanel rendered="{!IF(insuranceInputMode=='M', '','none')}">
                    <div class="titleTableTab"><h3>Vehicle Details</h3></div>
                    <table class="tableDetails">
                        <tr>
                            <td class="vehicleColumn">
                            <apex:outputLabel styleClass="calcLabel" value="State" for="state" />
                            </td>
                            <td class="vehicleColumn">
                            <apex:selectList label="State" value="{!state}" multiselect="false" size="1" styleClass="selectList" id="state" onchange="warrantyIncRefresh()" >
                                <apex:selectOptions value="{!stateOptions}" />
                            </apex:selectList>
                            </td>
                            <td class="vehicleColumn">
                            <apex:outputLabel styleClass="calcLabel" value="4WD/AWD" for="awd" />
                            </td>
                            <td class="vehicleColumn">
                            <apex:selectList label="4WD/AWD" value="{!awd}" multiselect="false" size="1" styleClass="selectList" id="awd" onchange="warrantyRefresh()">
                                <apex:selectOptions value="{!yesNoOptions}" />
                            </apex:selectList>
                            </td>
                        </tr>
                        <tr>
                            <td class="vehicleColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Vehicle Group" for="vehicleGroup" />
                            </td>
                            <td class="vehicleColumn">
                            <apex:selectList label="Vehicle Group" value="{!vehicleGroup}" multiselect="false" size="1" styleClass="selectList" id="vehicleGroup" onchange="warrantyRefresh();warrantyIncRefresh();">
                                <apex:selectOptions value="{!vehicleGroupTypes}" />
                            </apex:selectList>
                            </td>
                            <td class="vehicleColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Turbo/Supercharged" for="turbo" />
                            </td>
                            <td class="vehicleColumn">
                            <apex:selectList label="Turbo/Supercharged" value="{!turbo}" multiselect="false" size="1" styleClass="selectList" id="turbo" onchange="warrantyRefresh()">
                                <apex:selectOptions value="{!yesNoOptions}" />
                            </apex:selectList>
                            </td>
                        </tr>
                        <tr>
                            <td class="vehicleColumn"></td>
                            <td class="vehicleColumn"></td>
                            <td class="vehicleColumn">
                            <apex:outputLabel styleClass="calcLabel" value="Diesel" for="diesel" />
                            </td>
                            <td class="vehicleColumn">
                            <apex:selectList label="Diesel" value="{!diesel}" multiselect="false" size="1" styleClass="selectList" id="diesel" onchange="warrantyRefresh()">
                                <apex:selectOptions value="{!yesNoOptions}" />
                            </apex:selectList>
                            </td>
                        </tr>
                    </table>
                    </apex:outputPanel>



                    <apex:outputPanel rendered="{!IF(insuranceInputMode=='A', '','none')}" id="pnlInsProd">
                        <div class="titleTableTab"><h3>Insurance Product</h3></div>
                        <table class="insuranceTableDetails">
                            <tr>
                                <td width="20"></td>
                                <td>
                                    Quote #: <strong>{!quote.Quotation_Number__c}</strong> [<apex:outputField value="{!quote.Quotation_Date__c}"/>] &nbsp;
                                    <div class="insuranceQuoteFullAssessed">
                                        <apex:outputField value="{!quote.Status__c}" rendered="{!OR(quote.Status__c =='FA',quote.Status__c =='P')}"/>
                                    </div>
                                </td>
                                <td class="inTableTitle">Product</td>
                                <td class="inTableTitle">Retail Price</td>
                                <td class="inTableTitle">Commission</td>
                                <td class="inTableTitle">Actions</td>
                            </tr>
                            <tr style= "display: {!IF(ISBLANK(mvLevel), 'none','')}" class="{!IF(mvAcceptance=='A', 'insuranceResultRow1Accepted', IF(mvAcceptance=='D', 'insuranceResultRow1Declined', 'insuranceResultRow1'))}">
                                <td>&nbsp;</td>
                                <td>
                                    <apex:outputText value="{!$ObjectType.Application_InsuranceQuote__c.fields.Motor_Vehicle__c.Label}" />
                                </td>
                                <td class="{!IF(mvAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{!mvLevel}" />
                                </td>
                                <td class="{!IF(mvAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!mv}" />
                                    </apex:outputText>
                                </td>
                                <td class="{!IF(mvAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!mvIncome}" />
                                    </apex:outputText>
                                </td>
                                <td>
                                    <apex:commandButton value="Accept" action="{!acceptQuoteMV}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(mvAcceptance=='A','acceptQuoteButtonsClicked','acceptQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                    <apex:commandButton value="Decline" action="{!declineQuoteMV}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(mvAcceptance=='D','decQuoteButtonsClicked','decQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                </td>
                            </tr>
                            <tr style= "display: {!IF(ISBLANK(gapLevel), 'none','')}" class="{!IF(gapAcceptance=='A', 'insuranceResultRow1Accepted', IF(gapAcceptance=='D', 'insuranceResultRow1Declined', 'insuranceResultRow1'))}">
                                <td>&nbsp;</td>
                                <td>
                                    <apex:outputText value="{!$ObjectType.Application_InsuranceQuote__c.fields.Gap__c.Label}" />
                                </td>
                                <td class="{!IF(gapAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{!gapLevel}" />
                                </td>
                                <td class="{!IF(gapAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!gap}" />
                                    </apex:outputText>
                                </td>
                                <td class="{!IF(gapAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!gapIncome}" />
                                    </apex:outputText>
                                </td>
                                <td>
                                    <apex:commandButton value="Accept" action="{!acceptQuoteGAP}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(gapAcceptance=='A','acceptQuoteButtonsClicked','acceptQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                    <apex:commandButton value="Decline" action="{!declineQuoteGAP}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(gapAcceptance=='D','decQuoteButtonsClicked','decQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                </td>
                            </tr>
                            <tr style= "display: {!IF(ISBLANK(taiLevel), 'none','')}" class="{!IF(taiAcceptance=='A', 'insuranceResultRow1Accepted', IF(taiAcceptance=='D', 'insuranceResultRow1Declined', 'insuranceResultRow1'))}">
                                <td>&nbsp;</td>
                                <td>
                                    <apex:outputText value="{!$ObjectType.Application_InsuranceQuote__c.fields.Total_assist_RTI__c.Label}" />
                                </td>
                                <td class="{!IF(taiAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{!taiLevel}" />
                                </td>
                                <td class="{!IF(taiAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!tai}" />
                                    </apex:outputText>
                                </td>
                                <td class="{!IF(taiAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!taiIncome}" />
                                    </apex:outputText>
                                </td>
                                <td>
                                    <apex:commandButton value="Accept" action="{!acceptQuoteTAS}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(taiAcceptance=='A','acceptQuoteButtonsClicked','acceptQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                    <apex:commandButton value="Decline" action="{!declineQuoteTAS}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(taiAcceptance=='D','decQuoteButtonsClicked','decQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                </td>
                            </tr>
                            <tr style= "display: {!IF(ISBLANK(ltiLevel), 'none','')}" class="{!IF(ltiAcceptance=='A', 'insuranceResultRow1Accepted', IF(ltiAcceptance=='D', 'insuranceResultRow1Declined', 'insuranceResultRow1'))}">
                                <td>&nbsp;</td>
                                <td>
                                    <apex:outputText value="{!$ObjectType.Application_InsuranceQuote__c.fields.LTI_BRI__c.Label}" />
                                </td>
                                <td class="{!IF(ltiAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{!ltiLevel}" />
                                </td>
                                <td class="{!IF(ltiAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!lti}" />
                                    </apex:outputText>
                                </td>
                                <td class="{!IF(ltiAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!ltiIncome}" />
                                    </apex:outputText>
                                </td>
                                <td>
                                    <apex:commandButton value="Accept" action="{!acceptQuoteLTI}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(ltiAcceptance=='A','acceptQuoteButtonsClicked','acceptQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                    <apex:commandButton value="Decline" action="{!declineQuoteLTI}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(ltiAcceptance=='D','decQuoteButtonsClicked','decQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                </td>
                            </tr>
                            <tr style= "display: {!IF(ISBLANK(warrantyLevel), 'none','')}" class="{!IF(warrantyAcceptance=='A', 'insuranceResultRow1Accepted', IF(warrantyAcceptance=='D', 'insuranceResultRow1Declined', 'insuranceResultRow1'))}">
                                <td>&nbsp;</td>
                                <td>
                                    <apex:outputText value="{!$ObjectType.Application_InsuranceQuote__c.fields.Warranty_Insurance__c.Label}" />
                                </td>
                                <td class="{!IF(warrantyAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{!warrantyLevel}" />
                                </td>
                                <td class="{!IF(warrantyAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!warranty}" />
                                    </apex:outputText>
                                </td>
                                <td class="{!IF(warrantyAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:outputText value="{0, number, $##,###,##0.00}">
                                        <apex:param value="{!warrantyIncome}" />
                                    </apex:outputText>
                                </td>
                                <td>
                                    <apex:commandButton value="Accept" action="{!acceptQuoteWRR}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(warrantyAcceptance=='A','acceptQuoteButtonsClicked','acceptQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd" />
                                    <apex:commandButton value="Decline" action="{!declineQuoteWRR}" reRender="EsandaConsumerForm"
                                                        styleClass="{!IF(warrantyAcceptance=='D','decQuoteButtonsClicked','decQuoteButtons')}"
                                                        rendered="{!!ISNULL(quote.Id)}" status="stsProd"  />
                                </td>
                            </tr>
                            <tr style= "display: {!IF(displayNwcInsurance, '','none')}"
                                class="{!IF(nwcAcceptance=='A', 'insuranceResultRow1Accepted', IF(nwcAcceptance=='D', 'insuranceResultRow1Declined', 'insuranceResultRow1'))}">
                                <td>&nbsp;</td>
                                <td class="{!IF(nwcAcceptance=='D','cellInsuranceDeclined','')}">
                                    NWC Warranty
                                </td>
                                <td  class="{!IF(nwcAcceptance=='D','cellInsuranceDeclined','')}">
                                    Plan:&nbsp;({!nwcAcceptance})
                                    <apex:selectList value="{!nwcPlan}" multiselect="false" size="1" styleClass="selectListA" 
                                                     onchange="nationalWarrantyCalc()" rendered="{!nwcAcceptance=='U'}" >
                                        <apex:selectOption itemLabel="----" itemValue="" />
                                        <apex:selectOption itemLabel="A" itemValue="A" />
                                        <apex:selectOption itemLabel="B" itemValue="B" />
                                        <apex:selectOption itemLabel="C" itemValue="C" />
                                    </apex:selectList>
                                    <apex:outputText value="{!nwcPlan}" rendered="{!nwcAcceptance!='U'}"/>
                                    &nbsp;&nbsp;
                                    Term:&nbsp;
                                    <apex:selectList value="{!nwcTerm}" multiselect="false" size="1" styleClass="selectListA" 
                                                     onchange="nationalWarrantyCalc()" rendered="{!nwcAcceptance=='U'}">
                                        <apex:selectOption itemLabel="----" itemValue="" />
                                        <apex:selectOption itemLabel="12" itemValue="12" />
                                        <apex:selectOption itemLabel="24" itemValue="24" />
                                        <apex:selectOption itemLabel="36" itemValue="36" />
                                        <apex:selectOption itemLabel="60" itemValue="60" />
                                    </apex:selectList>
                                    <apex:outputText value="{!nwcTerm}" rendered="{!nwcAcceptance!='U'}"/>
                                    &nbsp;&nbsp;Cost:&nbsp;<strong>
                                    <apex:outputText label="Cost" value="{0, number, $##,###,##0.00}" id="fldNwcCost" >
                                        <apex:param value="{!nwcCost}" />
                                    </apex:outputText></strong>
                                </td>
                                <td  class="{!IF(nwcAcceptance=='D','cellInsuranceDeclined','')}">
                                    <apex:input type="number" html-step="0.01" value="{!nwc}" html-placeholder="$" styleClass="insuranceInput" 
                                                onchange="nationalWarrantyCalc()" rendered="{!nwcAcceptance=='U'}" />
                                    <apex:outputText label="Cost" value="{0, number, $##,###,##0.00}" rendered="{!nwcAcceptance!='U'}" >
                                        <apex:param value="{!nwc}" />
                                    </apex:outputText>
                                </td>
                                <td  class="{!IF(nwcAcceptance=='D','cellInsuranceDeclined','')}">
                                    <strong>
                                        <apex:outputText label="Cost" value="{0, number, $##,###,##0.00}" id="fldNwcIncome" >
                                            <apex:param value="{!nwcIncome}" />
                                        </apex:outputText>
                                    </strong>
                                </td>
                                <td>
                                    <apex:commandButton value="Accept" action="{!acceptQuoteNWC}" reRender="EsandaConsumerForm" status="stsProd"
                                                        styleClass="{!IF(nwcAcceptance=='A','acceptQuoteButtonsClicked','acceptQuoteButtons')}" />
                                    <apex:commandButton value="Decline" action="{!declineQuoteNWC}" reRender="EsandaConsumerForm" status="stsProd"
                                                        styleClass="{!IF(nwcAcceptance=='D','decQuoteButtonsClicked','decQuoteButtons')}" />
                                </td>
                            </tr>
                            <tr style= "display: {!IF(!AND(ISBLANK(quote.Name),ISBLANK(mvLevel)), 'none','')}">
                                <td colspan="6" align="center">
                                    <br/>
                                    <br/>
                                    <br/>
                                    <strong>- Please create and import a quote to display products in this area - </strong>
                                    <br/>
                                    <br/>
                                    <br/>
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td align="left">
                                    Quote&nbsp;
                                    <apex:selectList value="{!quoteIdSelected}" multiselect="false" size="1">
                                        <apex:selectOptions value="{!quoteNumberOptions}" />
                                    </apex:selectList>
                                    <apex:commandButton styleClass="calculateButtons" value="Import" action="{!importQuote}"
                                                        reRender="EsandaConsumerForm" status="stsProd"/>
                                </td>
                                <td colspan="4" align="right">
                                    <apex:actionStatus startText="(Processing...)" id="stsProd" />
                                    <apex:actionStatus startText="(Sending...)" id="stsProd2" />
                                    <apex:commandButton styleClass="calculateButtons" value="Create Quote" action="{!createQuote}" 
                                                        reRender="EsandaConsumerForm" status="stsProd" />
                                    &nbsp;&nbsp;&nbsp;
                                    <!-- <apex:commandButton styleClass="calculateButtons" value="Calculate Repayments" 
                                                        action="{!calculateInsuranceRepayments}" reRender="EsandaConsumerForm" status="stsProd"/> -->
                                    &nbsp;&nbsp;&nbsp;
                                    <!-- <input name="DoAction2" class="calculateButtons" type="button" value="Preview Presentation" 
                                           onclick="window.open('/apex/QuoteClientPresentation?P={!presentationUrlCode}');return false;"/> -->
                                    <apex:commandButton value="Preview Presentation" styleClass="calculateButtons" action="{!previewPresentation}" 
                                                        reRender="EsandaConsumerForm" onComplete="openPreview()" status="stsProd" />
                                    <input name="DoAction" class="calculateButtons" type="button" value="Send Presentation" 
                                           onclick="sendPresentationStep1();return false;"/>
                                    &nbsp;&nbsp;&nbsp;
                                    <apex:commandButton styleClass="calculateButtons" value="Buy Policy" action="{!buyPolicy}"
                                                        reRender="EsandaConsumerForm" status="stsProd" disabled="false" />
                                    <!-- <apex:commandButton styleClass="calculateButtons" value="Buy Policy" action="{!buyPolicy}"
                                                        reRender="EsandaConsumerForm" status="stsProd" disabled="{!quote.Status__c=='P'}" /> -->
                                    
                                </td>
                            </tr>
                        </table>
                    </apex:outputPanel>

                    <apex:outputPanel rendered="{!IF(insuranceInputMode=='M', '','none')}">
                        <div class="titleTableTab"><h3>Insurance Product</h3></div>
                        <table class="tableDetails">
                            <tr>
                                <td class="insuranceColumn"></td>
                                <td class="insuranceColumn"></td>
                                <td class="inTableTitle">Retail Price</td>
                                <td class="inTableTitle">Insurance Income</td>
                            </tr>
                            <tr>
                                <td class="insuranceColumn">
                                <apex:outputLabel styleClass="calcLabel" value="GAP" for="gapLevel" />
                                </td>
                                <td class="insuranceColumn">
                                <apex:selectList label="GAP" value="{!gapLevel}" multiselect="false" size="1" styleClass="selectList" id="gapLevel" >
                                    <apex:selectOptions value="{!gapLevels}" />
                                </apex:selectList>
                                </td>
                                <td class="insuranceColumn">
                                <apex:input type="number" html-step="0.01" value="{!gap}" html-placeholder="$" id="gap" styleClass="calcInput" onchange="nafRefresh()" />
                                </td>
                                <td class="insuranceColumn">
                                <apex:input type="number" html-step="0.01" value="{!gapIncome}" html-placeholder="$" id="gapIncome" styleClass="calcInput" />
                                
                                
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: Buttons for final quote request and purchase-->
                                <td class="acceptBtnCol">
                                <!-- <apex:commandButton id="gapAcceptQuoteBtnId" styleClass="acceptQuoteButtons" value="Accept" action="{!applyQuoteToRetailPriceGap}"/> -->
                                </td>
                                
                                <td class="cancelBtnCol">
                                <!-- <apex:commandButton id="gapCancelQuoteBtnId" styleClass="decQuoteButtons" value="Decline" action="{!deleteRetailPriceGap}"/>      -->
                                </td>
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: End-->
                                
                                </td>
                                
                         
                            </tr>
                            <tr>
                                <td class="insuranceColumn">
                                <apex:outputLabel styleClass="calcLabel" value="Warranty" for="warrantyLevel" />
                                </td>
                                <td class="insuranceColumn">
                                <apex:selectList label="Warranty" value="{!warrantyLevel}" multiselect="false" size="1" styleClass="selectList" id="warrantyLevel" onchange="warrantyRefresh();warrantyIncRefresh();">
                                    <apex:selectOptions value="{!warrantyLevels}" />
                                </apex:selectList>
                                </td>
                                <td class="insuranceColumn">
                                <apex:input type="number" html-step="0.01" value="{!warranty}" html-placeholder="$" id="warranty" styleClass="calcInput" onchange="nafRefresh()" />
                                </td>
                                <td class="insuranceColumn">
                                <apex:input type="number" html-step="0.01" value="{!warrantyIncome}" html-placeholder="$" id="warrantyIncome" styleClass="calcInput" />
                                
                                
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: Buttons for final quote request and purchase-->
                                <td class="acceptBtnCol">
                                <!-- <apex:commandButton id="warAcceptQuoteBtnId" styleClass="acceptQuoteButtons" value="Accept" action="{!applyQuoteToRetailPriceWAR}"/> -->
                                </td>
                                
                                <td class="cancelBtnCol">
                                <!-- <apex:commandButton id="warCancelQuoteBtnId" styleClass="decQuoteButtons" value="Decline" action="{!deleteToRetailPriceWAR}"/>      -->
                                </td>
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: End-->
                                
                                </td>
                             
                                
                            </tr>
                            <tr>
                                <td class="insuranceColumn">
                                <apex:outputLabel styleClass="calcLabel" value="LTI" for="ltiLevel" />
                                </td>
                                <td class="insuranceColumn">
                                <apex:selectList label="LTI" value="{!ltiLevel}" multiselect="false" size="1" styleClass="selectList" id="ltiLevel" >
                                    <apex:selectOptions value="{!ltiLevels}" />
                                </apex:selectList>
                                </td>
                                <td class="insuranceColumn">
                                <apex:input type="number" html-step="0.01" value="{!lti}" html-placeholder="$" id="lti" styleClass="calcInput" onchange="nafRefresh()" />
                                </td>
                                <td class="insuranceColumn">
                                <apex:input type="number" html-step="0.01" value="{!ltiIncome}" html-placeholder="$" id="ltiIncome" styleClass="calcInput" />
                                
                                
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: Buttons for final quote request and purchase-->
                                <td class="acceptBtnCol">
                                <!-- <apex:commandButton id="ltiAcceptQuoteBtnId" styleClass="acceptQuoteButtons" value="Accept" action="{!applyQuoteToRetailPriceLTI}"/> -->
                                </td>
                                
                                <td class="cancelBtnCol">
                                <!-- <apex:commandButton id="ltiCancelQuoteBtnId" styleClass="decQuoteButtons" value="Decline" action="{!calculate}"/>      -->
                                </td>
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: End-->
                                
                                </td>
                                
                         
                            </tr>
                            
                            <tr>
                                <td class="insuranceColumn">
                                <apex:outputLabel styleClass="calcLabel" value="TAI/RTI" for="taiLevel" />
                                </td>
                                <td class="insuranceColumn">
                                <apex:selectList label="TAI/RTI" value="{!taiLevel}" multiselect="false" size="1" styleClass="selectList" id="taiLevel" >
                                    <apex:selectOptions value="{!taiLevels}" />
                                </apex:selectList>
                                </td>
                                <td class="insuranceColumn">
                                <apex:input type="number" html-step="0.01" value="{!tai}" html-placeholder="$" id="tai" styleClass="calcInput" onchange="nafRefresh()" />
                                </td>
                                <td class="insuranceColumn">
                                <apex:input type="number" html-step="0.01" value="{!taiIncome}" html-placeholder="$" id="taiIncome" styleClass="calcInput" />
                                
                                
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: Buttons for final quote request and purchase-->
                                <td class="acceptBtnCol">
                                <!-- <apex:commandButton id="taiAcceptQuoteBtnId" styleClass="acceptQuoteButtons" value="Accept" action="{!applyQuoteToRetailPriceTai}"/> -->
                                </td>
                                
                                <td class="cancelBtnCol">
                                <!-- <apex:commandButton id="taiCancelQuoteBtnId" styleClass="decQuoteButtons" value="Decline" action="{!deleteRetailPriceTai}"/>      -->
                                </td>
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: End-->
                                
                                </td>
                                
                 
                                
                            </tr>
                            <tr>
                                <td class="insuranceColumn">
                                    <apex:outputLabel styleClass="calcLabel" value="MV" for="mvLevel" />
                                </td>
                                <td class="insuranceColumn">
                                <!-- <apex:inputText label="MV" value="{!mvLevel}" id="mvLevel" styleClass="calcInput" /> -->
                                <apex:selectList label="MV" value="{!mvLevel}" multiselect="false" size="1" styleClass="selectList" id="mvLevel" >
                                    <apex:selectOptions value="{!mvLevels}" />
                                </apex:selectList>
                                </td>
                                <td class="insuranceColumn">
                                    <apex:input type="number" html-step="0.01" value="{!mv}" html-placeholder="$" id="mv" styleClass="calcInput" onchange="nafRefresh()" />
                                </td>
                                <td class="insuranceColumn">
                                    <apex:input type="number" html-step="0.01" value="{!mvIncome}" html-placeholder="$" id="mvIncome" styleClass="calcInput" />
                                </td>
                                
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: Buttons for final quote request and purchase-->
                                <td class="acceptBtnCol">
                                <!-- <apex:commandButton id="mvAcceptQuoteBtnId" styleClass="acceptQuoteButtons" value="Accept" action="{!applyQuoteToRetailPriceMV}"/> -->
                                </td>
                                
                                <td class="cancelBtnCol">
                                <!-- <apex:commandButton id="mvCancelQuoteBtnId" styleClass="decQuoteButtons" value="Decline" action="{!deleteRetailPriceMV}"/>      -->
                                </td>
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: End-->
                                
                            </tr>
                            <tr>
                                <td class="insuranceColumn">
                                    <apex:outputLabel styleClass="calcLabel" value="CCI" for="cciLevel" />
                                </td>
                                <td class="defaultInsurance">
                                <!--<apex:inputText label="CCI" value="{!cciLevel}" id="cciLevel" styleClass="calcInput" />-->
                                    <apex:outputText label="CCI" value="AIC/Eric" id="cciLevel" />
                                </td>
                                <td class="insuranceColumn">
                                    <apex:input type="number" html-step="0.01" value="{!cci}" html-placeholder="$" id="cci" styleClass="calcInput" onchange="nafRefresh()" />
                                </td>
                                <td class="insuranceColumn">
                                    <apex:input type="number" html-step="0.01" value="{!cciIncome}" html-placeholder="$" id="cciIncome" styleClass="calcInput" />
                                </td>
                                
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: Buttons for final quote request and purchase-->
                                <td class="acceptBtnCol">
                                <!-- <apex:commandButton id="cciAcceptQuoteBtnId" styleClass="acceptQuoteButtons" value="Accept" /> -->
                                </td>
                                
                                <td class="cancelBtnCol">
                                    <!-- <apex:commandButton id="cciCancelQuoteBtnId" styleClass="decQuoteButtons" value="Decline" action="{!calculate}"/>      -->
                                </td>
                                    <!--Created By: Phil Fang | Date: February 15, 2017 | Description: End-->
                                
                            </tr>
                            <tr>
                                <td class="insuranceColumn">
                                    <apex:outputLabel styleClass="calcLabel" value="NWC Warranty" for="nwcName" />
                                </td>
                                <td class="defaultInsurance">
                                    <apex:outputText label="NWC Warranty" value="NWC" id="nwcName" />
                                </td>
                                <td class="insuranceColumn">
                                    <apex:input type="number" html-step="0.01" value="{!nwc}" html-placeholder="$" id="nwc" styleClass="calcInput" onchange="nafRefresh()" />
                                </td>
                                <td class="insuranceColumn">
                                    <apex:input type="number" html-step="0.01" value="{!nwcIncome}" html-placeholder="$" id="nwcIncome" styleClass="calcInput" />
                                </td>
                                
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: Buttons for final quote request and purchase-->
                                <td class="acceptBtnCol">
                                <!-- <apex:commandButton id="nwcAcceptQuoteBtnId" styleClass="acceptQuoteButtons" value="Accept" /> -->
                                </td>
                                
                                <td class="cancelBtnCol">
                                <!-- <apex:commandButton id="nwcCancelQuoteBtnId" styleClass="decQuoteButtons" value="Decline" action="{!calculate}"/>      -->
                                </td>
                                <!--Created By: Phil Fang | Date: February 15, 2017 | Description: End-->
                                
                            </tr>
                            <tr>
                                <td align="left">
                                    Quote&nbsp;
                                    <apex:selectList value="{!quoteIdSelected}" multiselect="false" size="1" styleClass="selectListB">
                                        <apex:selectOptions value="{!quoteNumberOptions}" />
                                    </apex:selectList>
                                    <apex:commandButton styleClass="calculateButtons" value="Import" action="{!importQuote}"
                                                        reRender="EsandaConsumerForm" status="stsProdB" />
                                </td>
                                <td colspan="3" align="right">
                                    <apex:actionStatus startText="(Processing...)" id="stsProdB" />
                                    <apex:commandButton styleClass="calculateButtons" value="Create Quote" action="{!createQuote}" 
                                                        reRender="EsandaConsumerForm" status="stsProdB"/>
                                </td>
                            </tr>
                        </table>
                    </apex:outputPanel>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <!-- end Insurance Implementation -->
                   

                </div>
            </div>
            <apex:outputPanel id="pnlPreview">
                <apex:outputPanel rendered="{!NOT(hasUserMessages)}">
                    <script>
                        function openPreview(){
                            window.open("{!$Page.QuoteClientPresentation}?P={!presentationUrlCode}");
                        }
                    </script>
                </apex:outputPanel>
                <apex:outputPanel rendered="{!hasUserMessages}">
                    <script>
                        function openPreview(){}
                    </script>
                </apex:outputPanel>
            </apex:outputPanel>
        </apex:form>
        <apex:form id="referenceForm" >
            <div class="horizontalRates">
                <div class="referenceTitle">
                    <h1>2015-16 Rate Table Pepper MV</h1>
                </div>
                <div id="tierATable">
                <table class="ratesHeading">
                    <tr>
                        <th rowspan="3" class="ratesTitle">Tier A</th>
                    </tr>
                    <tr>
                        <td class="headingColumn">Rates</td>
                    </tr>
                    <tr>
                        <td class="headingColumn">Comms</td>
                    </tr>
                </table>
                <table class="ratesDetails">
                    <apex:repeat value="{!rowWrappersA}" var="rowA">
                    <tr>
                        <apex:repeat value="{!rowA.values}" var="value">
                            <td class="ratesColumn">{!value}</td>
                        </apex:repeat>
                    </tr>
                    </apex:repeat>
                </table>
                </div>
                <div id="tierBTable">
                <table class="ratesHeading">
                    <tr>
                        <th rowspan="3" class="ratesTitle">Tier B</th>
                    </tr>
                    <tr>
                        <td class="headingColumn">Rates</td>
                    </tr>
                    <tr>
                        <td class="headingColumn">Comms</td>
                    </tr>
                </table>
                <table class="ratesDetails">
                    <apex:repeat value="{!rowWrappersB}" var="rowB">
                    <tr>
                        <apex:repeat value="{!rowB.values}" var="value">
                            <td class="ratesColumn">{!value}</td>
                        </apex:repeat>
                    </tr>
                    </apex:repeat>
                </table>
                </div>
                <div id="tierCTable">
                <table class="ratesHeading">
                    <tr>
                        <th rowspan="3" class="ratesTitle">Tier C</th>
                    </tr>
                    <tr>
                        <td class="headingColumn">Rates</td>
                    </tr>
                    <tr>
                        <td class="headingColumn">Comms</td>
                    </tr>
                    
                </table>
                <table class="ratesDetails">
                    <apex:repeat value="{!rowWrappersC}" var="rowC">
                    <tr>
                        <apex:repeat value="{!rowC.values}" var="value">
                            <td class="ratesColumn">{!value}</td>
                        </apex:repeat>
                    </tr>
                    </apex:repeat>
                </table>
                </div>
            </div>
        </apex:form>
    </div>
    <apex:outputField value="{!o.Application__r.Application_Quoting__c}" rendered="false" />
    <apex:outputField value="{!o.Account__c}" rendered="false" />
    <apex:outputField value="{!o.Loan_Product__c}" rendered="false" />
    <apex:outputField value="{!o.Application__r.Title_1__c}" rendered="false" />
    <apex:outputField value="{!o.Application__r.First_Name__c}" rendered="false" />
    <apex:outputField value="{!o.Application__r.Last_Name__c}" rendered="false" />
    <apex:outputField value="{!o.Email_Address__c}" rendered="false" />
    <apex:outputField value="{!o.Owner_Name__c}" rendered="false" />
    <apex:outputField value="{!o.Owner_Phone__c}" rendered="false" />
    <apex:outputField value="{!o.Owner_Mobile__c}" rendered="false" />
    <apex:outputField value="{!o.Owner_Email__c}" rendered="false" />
    <apex:outputField value="{!o.First_Name__c}" rendered="false" />
    <apex:outputField value="{!o.Account__r.FirstName}" rendered="false" />
    <apex:outputField value="{!o.Application__r.Status__c}" rendered="false" />
    <apex:outputField value="{!o.Application_AssetDetail__c}" rendered="false" />
</apex:page>